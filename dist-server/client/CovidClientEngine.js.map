{"version":3,"sources":["../../src/client/CovidClientEngine.js"],"names":["game","CovidClientEngine","gameEngine","options","CovidRenderer","document","addEventListener","e","ids","renderer","selection","key","length","sendInput","toString","event","ctrlKey","metaKey","preventDefault","sel","cards","world","queryObjects","instanceType","Card","forEach","c","push","id","ClientEngine"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,IAAIA,IAAI,GAAG,IAAX;;IACqBC,iB;;;;;AAEnB,6BAAYC,UAAZ,EAAwBC,OAAxB,EAAiC;AAAA;;AAAA;;AAC/B,2FAAMD,UAAN,EAAkBC,OAAlB,EAA2BC,sBAA3B;AACAJ,IAAAA,IAAI,GAAGE,UAAP;AAF+B;AAGhC;;;;4BAEO;AAAA;;AACNG,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqC,UAACC,CAAD,EAAO;AAC1C,YAAIC,GAAG,GAAG,MAAI,CAACC,QAAL,CAAcC,SAAxB;;AACA,YAAIH,CAAC,CAACI,GAAF,KAAU,GAAd,EAAmB;AACjB,cAAIH,GAAG,CAACI,MAAJ,GAAa,CAAjB,EACE,MAAI,CAACC,SAAL,CAAe,eAAeL,GAAG,CAACM,QAAJ,EAA9B;AACH,SAHD,MAGO,IAAIP,CAAC,CAACI,GAAF,KAAU,GAAV,KAAkBI,KAAK,CAACC,OAAN,IAAiBD,KAAK,CAACE,OAAzC,CAAJ,EAAuD;AAC5DV,UAAAA,CAAC,CAACW,cAAF;AACA,cAAIC,GAAG,GAAG,EAAV;AACA,cAAIC,KAAK,GAAGpB,IAAI,CAACqB,KAAL,CAAWC,YAAX,CAAwB;AAAEC,YAAAA,YAAY,EAAEC;AAAhB,WAAxB,CAAZ;AACAJ,UAAAA,KAAK,CAACK,OAAN,CAAc,UAACC,CAAD,EAAO;AAAEP,YAAAA,GAAG,CAACQ,IAAJ,CAASD,CAAC,CAACE,EAAX;AAAiB,WAAxC;AACA,UAAA,MAAI,CAACnB,QAAL,CAAcC,SAAd,GAA0BS,GAA1B;AACD,SANM,MAMA,IAAIZ,CAAC,CAACI,GAAF,KAAU,GAAd,EAAmB;AACxB,cAAIH,GAAG,CAACI,MAAJ,GAAa,CAAjB,EACE,MAAI,CAACC,SAAL,CAAe,YAAYL,GAAG,CAACM,QAAJ,EAA3B;AACH;AACF,OAfD;AAgBA;AACD;;;wBAEuC;AACtC,aAAO,IAAP;AACD;;;;EA7B4Ce,qB","sourcesContent":["import { ClientEngine, KeyboardControls } from 'lance-gg';\nimport CovidRenderer from '../client/CovidRenderer';\nimport Card from '../common/Card';\nlet game = null;\nexport default class CovidClientEngine extends ClientEngine {\n\n  constructor(gameEngine, options) {\n    super(gameEngine, options, CovidRenderer);\n    game = gameEngine;\n  }\n\n  start() {\n    document.addEventListener(\"keydown\", (e) => {\n      let ids = this.renderer.selection;\n      if (e.key === \"m\") {\n        if (ids.length > 1)\n          this.sendInput(\"randomize \" + ids.toString());\n      } else if (e.key === \"a\" && (event.ctrlKey || event.metaKey)) {\n        e.preventDefault();\n        let sel = [];\n        let cards = game.world.queryObjects({ instanceType: Card });\n        cards.forEach((c) => { sel.push(c.id); });\n        this.renderer.selection = sel;\n      } else if (e.key === \"g\") {\n        if (ids.length > 1)\n          this.sendInput(\"gather \" + ids.toString());\n      }\n    });\n    return super.start();\n  }\n\n  get autoAlignCardOnInteractionEnabled() {\n    return true;\n  }\n  \n}\n"],"file":"CovidClientEngine.js"}